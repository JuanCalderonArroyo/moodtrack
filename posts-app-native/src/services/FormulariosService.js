// src/services/FormulariosService.js

// Ãšnico formulario con preguntas ordenadas
let formulario = {
  id: 1,
  titulo: 'Formulario de bienestar emocional',
  descripcion: 'EvalÃºa tu estado emocional y hÃ¡bitos recientes.',
  preguntas: [
    {
      id: 1,
      texto: 'Â¿CÃ³mo te sientes hoy?',
      tipo: 'opciones',
      opciones: ['Feliz', 'Triste', 'Ansioso', 'Relajado'],
      orden: 1,
      obligatoria: true
    },
    {
      id: 2,
      texto: 'Â¿CuÃ¡nto dormiste anoche?',
      tipo: 'opciones',
      opciones: ['Menos de 5 horas', '5-7 horas', 'MÃ¡s de 7 horas'],
      orden: 2,
      obligatoria: true
    },
    {
      id: 3,
      texto: 'Â¿Has hecho ejercicio esta semana?',
      tipo: 'opciones',
      opciones: ['SÃ­', 'No'],
      orden: 3,
      obligatoria: true
    },
    {
      id: 4,
      texto: 'Â¿QuÃ© tan estresado te sientes actualmente?',
      tipo: 'opciones',
      opciones: ['Nada', 'Un poco', 'Moderado', 'Mucho'],
      orden: 4,
      obligatoria: true
    },
    {
      id: 5,
      texto: 'Â¿QuÃ© actividad te hizo sentir mejor esta semana?',
      tipo: 'opciones',
      opciones: ['Salir con amigos', 'Escuchar mÃºsica', 'Hacer deporte', 'Descansar', 'Otra'],
      orden: 5,
      obligatoria: true
    },
    {
      id: 6,
      texto: 'Â¿Tienes algÃºn comentario o sugerencia adicional?',
      tipo: 'texto', // ðŸ”¹ tipo de pregunta abierta
      opciones: [],  // ðŸ”¹ no hay opciones predefinidas
      orden: 6,
      obligatoria: false // ðŸ”¹ respuesta opcional
    }
  ]
};

// ðŸ”¹ Obtener el formulario completo
export function getFormulario() {
  return formulario;
}

// ðŸ”¹ Obtener una pregunta por ID
export function getPreguntaById(id) {
  return formulario.preguntas.find(p => p.id === id);
}

// ðŸ”¹ Agregar una nueva pregunta
export function addPregunta(pregunta) {
  const newId = formulario.preguntas.length > 0
    ? formulario.preguntas[formulario.preguntas.length - 1].id + 1
    : 1;

  const nuevaPregunta = { ...pregunta, id: newId, orden: newId };
  formulario.preguntas.push(nuevaPregunta);
  return nuevaPregunta;
}

// ðŸ”¹ Actualizar una pregunta existente
export function updatePregunta(id, newData) {
  const index = formulario.preguntas.findIndex(p => p.id === id);
  if (index === -1) throw new Error('Pregunta no encontrada');
  formulario.preguntas[index] = { ...formulario.preguntas[index], ...newData };
  return formulario.preguntas[index];
}

// ðŸ”¹ Eliminar una pregunta
export function deletePregunta(id) {
  const index = formulario.preguntas.findIndex(p => p.id === id);
  if (index === -1) throw new Error('Pregunta no encontrada');
  formulario.preguntas.splice(index, 1);
  return true;
}
